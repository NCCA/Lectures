<!doctype html>
<html lang="en">
<head>
    <script type="text/javascript" src="/jmacey/js/processing/processing.min.js"></script>
</head>

<body>

<canvas id="sketch" data-processing-sources="light.pde"></canvas>
<div class="slidecontainer">

<button onclick="startSketch();">Start</button>
<button onclick="stopSketch();">Stop</button>
<input type="range" min="10" max="190" value="50" class="slider" id="freq" oninput="updateValue(this.value)" >

</div>

<script type="application/javascript">

    var processingInstance;

    function updateValue(newValue)
    {
        processingInstance = Processing.getInstanceById('sketch');
        processingInstance.updateValue(newValue);
        console.log(newValue);
    }

    function startSketch() 
    {
        switchSketchState(true);
    }

    function stopSketch() 
    {
        switchSketchState(false);
    }

    function switchSketchState(on) 
    {
        if (!processingInstance) {
            processingInstance = Processing.getInstanceById('sketch');
        }

        if (on) 
        {
            processingInstance.loop();  // call Processing loop() function
        } 
        else 
        {
            processingInstance.noLoop(); // stop animation, call noLoop()
        }
    }
</script>



</body>
</html>